---
title: HBase1.3新版本 新特性预览
date: 2016-02-22 13:07:44
tags: HBase
categories: 大数据
---

## 新版本特性

2017年1月中旬 发布的 HBase 1.3.0版本，新版本特性如下：

- 支持分层数据的压缩

- 多方面的性能提升，如 多预写日志（WAL）一个新的RPC机制，避免大量IO峰值的磁盘刷新吞吐量控制器等

  <!-- more -->

## 新特性解析

### 分层压缩

##### 使用场景：

数据被铲除或更新的时候，通常要更频繁的扫描最新的数据，而旧数据则较少被扫描。

##### 解决痛点：

使用这种分层压缩策略，可有轻松的记录文件的TTL(生存时间 time-to-live)；当将现有存储文件压缩到单个较大的存储文件中时，过期的记录将被删除。

### 多预写日志

每个region server都有一个预写日志(WAL)，该区域上的所有操作都要写入这个唯一的预写日志。

##### 新特性

改进后的 **多预写日志(WAL)** 支持更高性能的写入操作，这使得复制速度更快而且同步写入的延迟更低。默认情况下，多预写日志 提供了三个区域分组策略来分配 预写日志：每个区域的 预写日志都有 一个身份 标识，轮询调度算法 保证 每个区域映射的预写日志 都有其边界，区域中 不同 命名空间 的表 被映射到 不同的 预写日志 中。

性能测试报告 显示：**预写日志 在纯SATA 磁盘中的运行平均延时 减少了 20% ；在SATA-SSD磁盘中运行延时 减少了 40%**。

### 新的RPC调度器

新的RPC调度器基于 **CoDel算法** ，用于阻止 可用IO无法满足过高清秋频率引起的 长连接队列。

CoDel算法 用可控的延迟 来管理 活动队列，他根据 定义好的 **阈值** 来裁决队列中的**最小延迟**。一旦最小延迟超过阈值，该链接便会 被丢弃以便处理其他更有力的 最小延迟。